(function(t){function e(e){for(var s,l,r=e[0],o=e[1],c=e[2],d=0,u=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&u.push(n[l][0]),n[l]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s]);h&&h(e);while(u.length)u.shift()();return a.push.apply(a,c||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,r=1;r<i.length;r++){var o=i[r];0!==n[o]&&(s=!1)}s&&(a.splice(e--,1),t=l(l.s=i[0]))}return t}var s={},n={app:0},a=[];function l(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=s,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(i,s,function(e){return t[e]}.bind(null,s));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var h=o;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("8a23"),n=i.n(s);n.a},"1dd1":function(t,e,i){"use strict";var s=i("7f66"),n=i.n(s);n.a},"21c4":function(t,e,i){"use strict";var s=i("9082"),n=i.n(s);n.a},"54c5":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-app",[i("Baseline")],1)},a=[],l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-navigation-drawer",{attrs:{app:"",clipped:"",floating:"","mobile-break-point":"1050",width:"20%"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[i("GridMDPSettings",{attrs:{id:"settings"},on:{"apply-settings":function(e){return t.applySettings()}}})],1),i("v-app-bar",{attrs:{app:"","clipped-left":""}},[i("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),i("v-toolbar-title",[t._v("MDP Q-Value-Propagation")])],1),i("v-content",[i("GridMDP",{ref:"gmdp",attrs:{id:"gmdp"}})],1),i("v-footer",{attrs:{app:""}})],1)},r=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.mdp?i("div",{staticClass:"myRow",attrs:{id:"content"}},[i("div",[t._l(t.mdp.tiles,(function(e,s){return i("div",{key:s,staticClass:"myRow"},t._l(e,(function(e,n){return i("div",{key:n,staticClass:"myCol"},[i("GridMDPTile",{ref:s+"-"+n,refInFor:!0,staticClass:"tile",attrs:{tile:e},on:{"edit-tile":t.setEdit}})],1)})),0)})),i("div",{attrs:{id:"level-buttons"}},[i("div",[i("v-btn",{on:{click:function(e){return t.prevIter()}}},[t._v("prev")]),i("v-btn",{on:{click:function(e){return t.reset()}}},[t._v("reset")]),i("v-btn",{on:{click:function(e){return t.nextIter()}}},[t._v("next")])],1),i("div",[i("v-btn",{on:{click:function(e){return t.save()}}},[t._v("save")]),i("v-btn",{on:{click:function(e){return t.kill()}}},[t._v("new")])],1)])],2),t.editTile?i("TileEditor",{ref:"editor",attrs:{id:"editor",tile:t.editTile},on:{redraw:t.redraw}}):t._e()],1):i("div",{attrs:{id:"creator"}},[i("creator")],1)])},c=[],h=(i("a4d3"),i("4de4"),i("e439"),i("dbb4"),i("b64b"),i("e25e"),i("1276"),i("159b"),i("ade3")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{ref:t.id,class:{canvas:!0,selected:t.editing},attrs:{width:t.width,height:t.height},on:{click:function(e){return t.$emit("edit-tile",t.id)}}})},u=[],p=(i("b0c0"),i("b680"),i("2f62"));s["a"].use(p["a"]);var f=new p["a"].Store({state:{defaultSettings:{stepCost:0,discount:.9,stepChances:{front:.8,left:.1,right:.1,back:0},useRounded:!0,maxWidth:12,maxHeight:255,enableAdvancedSettings:!0,tileWidth:120,tileHeight:90,tileInsets:5,directionIndicatorSize:6,detailedDisplay:!1,hardReset:!0,fullDisplay:!1},settings:{},displayIteration:0,level:[[{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!0},{accessible:!0,reward:1,terminal:!0,initial:!1}],[{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!1,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:-1,terminal:!0,initial:!1}],[{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!1},{accessible:!0,reward:0,terminal:!1,initial:!1}]]},mutations:{setSettings:function(t,e){t.settings=e},setLevel:function(t,e){t.level=e},nextIteration:function(t){t.displayIteration++},prevIteration:function(t){t.displayIteration>0&&t.displayIteration--},resetIteration:function(t){t.displayIteration=0}}}),v=f,g=(i("b017"),{name:"GridMDPTile",props:["tile"],data:function(){return{editing:!1,test:null}},methods:{redraw:function(){var t=this.$refs[this.id].getContext("2d");if(v.state.settings.detailedDisplay)if(!this.tile.accessible||this.tile.terminal)t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height),this.tile.terminal&&(t.fillStyle="white",t.font="30px Arial",t.textAlign="center",t.fillText(this.tile.getLabel(v.state.displayIteration),this.width/2,(this.height+20)/2),t.beginPath(),t.strokeStyle="white",t.strokeRect(this.inset,this.inset,this.width-2*this.inset,this.height-2*this.inset));else{var e=[this.width/2,this.height/2];t.fillPoly([[0,0],[0,this.height],e],this.colorOf(this.tile.actions["left"].getQValue(v.state.displayIteration)),"white"),t.fillPoly([[0,0],[this.width,0],e],this.colorOf(this.tile.actions["up"].getQValue(v.state.displayIteration)),"white"),t.fillPoly([[this.width,this.height],[0,this.height],e],this.colorOf(this.tile.actions["down"].getQValue(v.state.displayIteration)),"white"),t.fillPoly([[this.width,this.height],[this.width,0],e],this.colorOf(this.tile.actions["right"].getQValue(v.state.displayIteration)),"white");var i=Math.min(this.width/8,this.height/6);t.drawText(this.tile.actions.up.getQValue(v.state.displayIteration).toFixed(2),this.width/2,this.height/5,"white",i),t.drawText(this.tile.actions.down.getQValue(v.state.displayIteration).toFixed(2),this.width/2,4*this.height/5,"white",i),t.drawText(this.tile.actions.left.getQValue(v.state.displayIteration).toFixed(2),this.width/5,this.height/2,"white",i),t.drawText(this.tile.actions.right.getQValue(v.state.displayIteration).toFixed(2),4*this.width/5,this.height/2,"white",i)}else if(t.fillStyle=this.color,t.fillRect(0,0,this.width,this.height),this.tile.accessible)if(t.fillStyle="white",t.font="30px Arial",t.textAlign="center",t.fillText(this.tile.getLabel(v.state.displayIteration),this.width/2,(this.height+20)/2),this.tile.terminal)t.beginPath(),t.strokeStyle="white",t.strokeRect(this.inset,this.inset,this.width-2*this.inset,this.height-2*this.inset);else if(this.tile.bestAction()){var s=this.tile.bestAction().name;t.fillStyle="white","up"===s?t.fillRect(this.width/2-this.diSize/2,this.inset,this.diSize,this.diSize):"right"===s?t.fillRect(this.width-this.inset-this.diSize,this.height/2-this.diSize/2,this.diSize,this.diSize):"left"===s?t.fillRect(this.inset,this.height/2-this.diSize/2,this.diSize,this.diSize):"down"===s&&t.fillRect(this.width/2-this.diSize/2,this.height-this.inset-this.diSize,this.diSize,this.diSize)}},colorOf:function(t){var e=Math.max(0,Math.min(120,120*(1+t)/2)),i=Math.max(0,Math.min(75,75*Math.abs(t))),s=Math.max(0,Math.min(55,15+40*Math.abs(t)));return"hsl("+e+", "+i+"%, "+s+"%)"}},computed:{id:function(){return this.tile.x+"-"+this.tile.y},color:function(){var t=this.tile.getQValue(v.state.displayIteration),e=Math.max(0,Math.min(120,120*(1+t)/2)),i=Math.max(0,Math.min(75,75*Math.abs(t))),s=Math.max(0,Math.min(55,15+40*Math.abs(t)));return this.tile.accessible||(s=5),"hsl("+e+", "+i+"%, "+s+"%)"},width:function(){return v.state.settings.tileWidth},height:function(){return v.state.settings.tileHeight},inset:function(){return v.state.settings.tileInsets},diSize:function(){return v.state.settings.directionIndicatorSize}},mounted:function(){this.redraw()}}),m=g,b=(i("21c4"),i("2877")),y=Object(b["a"])(m,d,u,!1,null,"66deaca6",null),w=y.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",[i("div",{staticClass:"myCol",attrs:{id:"card"},on:{click:function(e){return t.$emit("redraw")}}},[i("h2",{attrs:{id:"title"}},[t._v("Editing Tile "+t._s(t.coords()))]),i("div",{attrs:{id:"quick-edits"}},[i("v-btn-toggle",[i("v-btn",{on:{click:function(e){return t.setType("free")}}},[t._v("Free")]),i("v-btn",{on:{click:function(e){return t.setType("wall")}}},[t._v("Wall")]),i("v-btn",{on:{click:function(e){return t.setType("goal")}}},[t._v("Goal")]),i("v-btn",{on:{click:function(e){return t.setType("death")}}},[t._v("Death")])],1)],1),i("div",{staticClass:"myRow"},[i("v-checkbox",{attrs:{label:"Terminal",color:"blue"},model:{value:t.tile.terminal,callback:function(e){t.$set(t.tile,"terminal",e)},expression:"tile.terminal"}}),i("v-checkbox",{attrs:{label:"Accesible",color:"blue"},model:{value:t.tile.accessible,callback:function(e){t.$set(t.tile,"accessible",e)},expression:"tile.accessible"}}),i("v-checkbox",{attrs:{label:"Initial",color:"blue"},on:{"&click":function(e){return t.setInit()}},model:{value:t.tile.initial,callback:function(e){t.$set(t.tile,"initial",e)},expression:"tile.initial"}})],1),i("v-slider",{attrs:{step:.01,max:1,min:-1,label:"Reward","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.tile.reward,callback:function(e){t.$set(t.tile,"reward",e)},expression:"tile.reward"}})]},proxy:!0}]),model:{value:t.tile.reward,callback:function(e){t.$set(t.tile,"reward",e)},expression:"tile.reward"}}),i("v-expansion-panels",[i("h3",[t._v("Actions")]),t._l(t.tile.actions,(function(e){return i("v-expansion-panel",{key:e.name},[i("v-expansion-panel-header",[t._v(t._s(e.name))]),i("v-expansion-panel-content",[i("ActionEditor",{attrs:{action:e}})],1)],1)}))],2)],1)])},k=[],S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-col",[i("p",[t._v(t._s(t.action.getFormula()))]),i("v-slider",{attrs:{step:.01,max:1,min:-1,label:"Reward","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.action.reward,callback:function(e){t.$set(t.action,"reward",e)},expression:"action.reward"}})]},proxy:!0}]),model:{value:t.action.reward,callback:function(e){t.$set(t.action,"reward",e)},expression:"action.reward"}}),i("v-slider",{attrs:{step:.01,max:1,min:-1,label:"Discount","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.action.discount,callback:function(e){t.$set(t.action,"discount",e)},expression:"action.discount"}})]},proxy:!0}]),model:{value:t.action.discount,callback:function(e){t.$set(t.action,"discount",e)},expression:"action.discount"}}),i("v-slider",{attrs:{step:.01,max:1,min:0,label:"Cost","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.action.cost,callback:function(e){t.$set(t.action,"cost",e)},expression:"action.cost"}})]},proxy:!0}]),model:{value:t.action.cost,callback:function(e){t.$set(t.action,"cost",e)},expression:"action.cost"}})],1)},O=[],M={props:["action"],data:function(){return{store:v}}},_=M,R=i("6544"),C=i.n(R),j=i("62ad"),V=i("ba0d"),P=i("8654"),T=Object(b["a"])(_,S,O,!1,null,null,null),$=T.exports;C()(T,{VCol:j["a"],VSlider:V["a"],VTextField:P["a"]});var I={name:"TileEditor",components:{ActionEditor:$},props:["tile"],data:function(){return{}},methods:{setType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"custom";switch(t){case"free":this.tile.accessible=!0,this.tile.reward=0,this.tile.terminal=!1;break;case"wall":this.tile.accessible=!1,this.tile.reward=0,this.tile.terminal=!1;break;case"goal":this.tile.accessible=!0,this.tile.reward=1,this.tile.terminal=!0;break;case"death":this.tile.accessible=!0,this.tile.reward=-1,this.tile.terminal=!0;break}},coords:function(){return this.tile.y+1+"-"+(this.tile.x+1)},setInit:function(){this.tile.reached=this.tile.initial}},computed:{displayIteration:function(){return v.state.displayIteration}}},D=I,A=(i("1dd1"),i("8336")),E=i("a609"),q=i("b0af"),Q=i("ac7c"),z=i("cd55"),W=i("49e2"),B=i("c865"),H=i("0393"),F=Object(b["a"])(D,x,k,!1,null,"41924325",null),G=F.exports;C()(F,{VBtn:A["a"],VBtnToggle:E["a"],VCard:q["a"],VCheckbox:Q["a"],VExpansionPanel:z["a"],VExpansionPanelContent:W["a"],VExpansionPanelHeader:B["a"],VExpansionPanels:H["a"],VSlider:V["a"],VTextField:P["a"]});var L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-overlay",{attrs:{value:!0}},[i("v-card",[i("div",{staticClass:"myCol",attrs:{id:"card"}},[i("h2",[t._v("Create new Level")]),i("div",{staticClass:"myRow",attrs:{id:"size"}},[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{label:"Width",placeholder:"Width",min:"1",max:t.maxWidth,type:"number"},model:{value:t.width,callback:function(e){t.width=e},expression:"width"}}),i("p",{attrs:{id:"sizeSeperator"}},[t._v("x")]),i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{label:"Height",placeholder:"Height",min:"1",type:"number"},model:{value:t.height,callback:function(e){t.height=e},expression:"height"}})],1),i("v-btn",{on:{click:function(e){return t.$parent.create(t.width,t.height)}}},[t._v("create")])],1)])],1)},J=[],N={data:function(){return{width:7,height:5}},computed:{maxWidth:function(){return v.state.settings.maxWidth}}},U=N,K=(i("86b8"),i("a797")),X=Object(b["a"])(U,L,J,!1,null,"7f4dd084",null),Y=X.exports;C()(X,{VBtn:A["a"],VCard:q["a"],VOverlay:K["a"],VTextField:P["a"]});var Z=i("53ca"),tt=i("d4ec"),et=i("bee2");function it(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[.8,.1,.1,0],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.9,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return new st(t,e,i,s)}var st=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.state.settings.stepCost,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.state.settings.discount,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.state.settings.stepCost;Object(tt["a"])(this,t),this.level=e,this.iteration=0,this.tiles=[];for(var a=0;a<e.length;a++){this.tiles[a]=[];for(var l=0;l<e[a].length;l++)this.tiles[a][l]=new nt(a,l,e[a][l].reward,e[a][l].terminal,e[a][l].accessible,e[a][l].initial)}for(var r=0;r<e.length;r++)for(var o=0;o<e[r].length;o++){var c=new at("left",new lt(this.tiles[r][o],1),n,s),h=new at("right",new lt(this.tiles[r][o],1),n,s),d=new at("up",new lt(this.tiles[r][o],1),n,s),u=new at("down",new lt(this.tiles[r][o],1),n,s);this.inBounds(r,o-1)&&(c.addResult(new lt(this.tiles[r][o-1],i[0]),n),u.addResult(new lt(this.tiles[r][o-1],i[2]),n),h.addResult(new lt(this.tiles[r][o-1],i[3]),n),d.addResult(new lt(this.tiles[r][o-1],i[1]),n)),this.inBounds(r,o+1)&&(c.addResult(new lt(this.tiles[r][o+1],i[3]),n),u.addResult(new lt(this.tiles[r][o+1],i[1]),n),h.addResult(new lt(this.tiles[r][o+1],i[0]),n),d.addResult(new lt(this.tiles[r][o+1],i[2]),n)),this.inBounds(r-1,o)&&(c.addResult(new lt(this.tiles[r-1][o],i[2]),n),u.addResult(new lt(this.tiles[r-1][o],i[3]),n),h.addResult(new lt(this.tiles[r-1][o],i[1]),n),d.addResult(new lt(this.tiles[r-1][o],i[0]),n)),this.inBounds(r+1,o)&&(c.addResult(new lt(this.tiles[r+1][o],i[1]),n),u.addResult(new lt(this.tiles[r+1][o],i[0]),n),h.addResult(new lt(this.tiles[r+1][o],i[2]),n),d.addResult(new lt(this.tiles[r+1][o],i[3]),n)),this.tiles[r][o].addAction(d),this.tiles[r][o].addAction(u),this.tiles[r][o].addAction(c),this.tiles[r][o].addAction(h)}}return Object(et["a"])(t,[{key:"apply",value:function(t){for(var e=0;e<this.tiles.length;e++)for(var i=0;i<this.tiles[e].length;i++)this.tiles[e][i].apply(t)}},{key:"reset",value:function(){this.iteration=0;for(var t=0;t<this.tiles.length;t++)for(var e=0;e<this.tiles[t].length;e++)this.tiles[t][e].reset()}},{key:"next",value:function(){this.iteration++;for(var t=0;t<this.tiles.length;t++)for(var e=0;e<this.tiles[t].length;e++)this.tiles[t][e].next();for(var i=0;i<this.tiles.length;i++)for(var s=0;s<this.tiles[i].length;s++)this.tiles[i][s].marked&&(this.tiles[i][s].reached=!0)}},{key:"inBounds",value:function(t,e){return 0<=t&&t<this.level.length&&0<=e&&e<this.level[0].length}},{key:"compact",value:function(){for(var t=[],e=0;e<this.tiles.length;e++){t[e]=[];for(var i=0;i<this.tiles[e].length;i++)t[e][i]={accessible:this.tiles[e][i].accessible,reward:this.tiles[e][i].reward,terminal:this.tiles[e][i].terminal,initial:this.tiles[e][i].initial}}return t}}]),t}(),nt=function(){function t(e,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(tt["a"])(this,t),this.x=e,this.y=i,this.reward=s,this.terminal=n,this.accessible=a,this.initial=l,this.reached=l,this.marked=!1,this.qMemory=[0],this.actions={}}return Object(et["a"])(t,[{key:"reset",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var e in t&&(this.reached=v.state.level[this.x][this.y].initial,this.accessible=v.state.level[this.x][this.y].accessible,this.reward=v.state.level[this.x][this.y].reward,this.terminal=v.state.level[this.x][this.y].terminal),this.marked=!1,this.reached=this.initial,this.qMemory=[0],this.actions)this.actions[e].reset(t)}},{key:"apply",value:function(t){for(var e in this.actions)this.actions[e].apply(t)}},{key:"addAction",value:function(t){this.actions[t.name]=t}},{key:"removeAction",value:function(t){delete this.actions[t.name]}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.terminal&&this.reached){var e=null;for(var i in this.actions){var s=this.actions[i].next(t);(null===e||s>e)&&(e=s)}v.state.settings.useRounded&&(e=Math.round(100*e)/100),this.qMemory.push(e)}else for(var n in this.qMemory.push(0),this.actions)this.actions[n].qMemory.push(0)}},{key:"getQValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.qMemory.length-1;return!this.accessible||t<0?0:this.qMemory.length<=t?this.reward:this.reward+this.qMemory[t]}},{key:"getLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.qMemory.length-1;return this.getQValue(t).toFixed(2)+(this.reached&&!this.terminal?"*":"")}},{key:"bestAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.qMemory.length-1,e=null;for(var i in this.actions)(!e||this.actions[i].getQValue(t)>e.getQValue(t))&&(e=this.actions[i]);return e}}]),t}(),at=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v.state.settings.stepCost,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v.state.settings.discount,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Object(tt["a"])(this,t),this.name=e,this.defaultReward=l,this.reward=l,this.discount=n,this.cost=s,this.results=a,this.defaultResult=i,this.qMemory=[0]}return Object(et["a"])(t,[{key:"apply",value:function(t){this.cost=t.stepCost,this.discount=t.discount}},{key:"addResult",value:function(t){this.results.push(t)}},{key:"removeResult",value:function(t){Object(Z["a"])(t)===lt?this.results=this.results.filter((function(e){return e!==t})):Object(Z["a"])(t)===nt&&(this.results=this.results.filter((function(e){return e.node!==t})))}},{key:"next",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0,i=0,s=0;s<this.results.length;s++){var n=this.results[s];n.node.marked=!0,i+=n.chance,n.node.accessible?e+=t?n.chance*(this.reward-this.cost+this.discount*n.node.getQValue()):n.chance*(this.reward-this.cost+this.discount*n.node.getQValue(this.qMemory.length-1)):e+=n.chance*(this.reward-this.cost+this.discount*this.defaultResult.node.getQValue(this.qMemory.length-1))}return e+=this.discount*(1-i)*(this.reward-this.cost+this.defaultResult.node.getQValue(this.qMemory.length-1)),v.state.settings.useRounded&&(e=Math.round(100*e)/100),this.qMemory.push(e),e}},{key:"getQValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.qMemory.length-1;return t<this.qMemory.length?this.reward+this.qMemory[t]:0}},{key:"reset",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&(this.reward=this.defaultReward,this.discount=v.state.settings.discount,this.cost=v.state.settings.stepCost),this.qMemory=[0]}},{key:"toString",value:function(){return this.name}},{key:"getFormula",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.qMemory.length-1,e=this.discount+" * (",i=0;for(var s in this.results){var n=this.results[s];i+=n.chance,e+=n.chance+" * "+n.node.getQValue(t-1)+" + "}i=Math.round(100*i)/100,e+=1-i+" * "+this.defaultResult.node.getQValue(t-1)+")";var a=this.reward-this.cost;return e+=(a<0?" - ":" + ")+Math.abs(a),e}}]),t}(),lt=function t(e,i){Object(tt["a"])(this,t),this.node=e,this.chance=i};function rt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function ot(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(i),!0).forEach((function(e){Object(h["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ct={name:"GridMDP",components:{Creator:Y,GridMDPTile:w,TileEditor:G},data:function(){return{mdp:null,editTile:null}},methods:{nextIter:function(){v.commit("nextIteration"),v.state.displayIteration>this.mdp.iteration&&this.mdp.next(),this.redraw()},prevIter:function(){v.commit("prevIteration"),this.redraw()},redraw:function(){for(var t in this.$refs)this.isTileRef(t)&&this.$refs[t][0].redraw()},reset:function(){v.commit("resetIteration"),null!==this.mdp?(this.mdp.reset(),this.redraw()):this.mdp=it(v.state.level,[.8,.1,.1,0],v.state.settings.discount,v.state.settings.stepCost)},save:function(){v.commit("setLevel",this.mdp.compact())},setEdit:function(t){for(var e in this.$refs)this.isTileRef(e)&&(this.$refs[e][0].editing=e===t);var i=t.split("-");this.editTile=this.mdp.tiles[parseInt(i[0])][parseInt(i[1])]},isTileRef:function(t){return this.$refs[t]&&this.$refs[t][0]&&"editor"!==t&&"settings"!==t},applySettings:function(){this.mdp.apply(v.state.settings),this.redraw()},kill:function(){this.mdp=null},create:function(t,e){t=Math.max(1,Math.min(v.state.settings.maxWidth,t)),e=Math.max(1,Math.min(v.state.settings.maxHeight,e));for(var i=[],s=0;s<e;s++){i[s]=[];for(var n=0;n<t;n++)i[s][n]=0}this.mdp=it(i),v.commit("setLevel",this.mdp.compact()),this.editTile=null}},computed:{creating:function(){return this.mdp}},created:function(){v.commit("setSettings",ot({},v.state.defaultSettings))},mounted:function(){this.reset(),this.setEdit("0-0")}},ht=ct,dt=(i("b1a7"),Object(b["a"])(ht,o,c,!1,null,"d6a7066e",null)),ut=dt.exports;C()(dt,{VBtn:A["a"]});var pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col"},[i("h2",[t._v("Settings")]),i("v-slider",{attrs:{step:.01,max:1,min:0,label:"Discount","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.settings.discount,callback:function(e){t.$set(t.settings,"discount",e)},expression:"settings.discount"}})]},proxy:!0}]),model:{value:t.settings.discount,callback:function(e){t.$set(t.settings,"discount",e)},expression:"settings.discount"}}),i("v-slider",{attrs:{step:.01,max:1,min:0,label:"Step Cost","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.settings.stepCost,callback:function(e){t.$set(t.settings,"stepCost",e)},expression:"settings.stepCost"}})]},proxy:!0}]),model:{value:t.settings.stepCost,callback:function(e){t.$set(t.settings,"stepCost",e)},expression:"settings.stepCost"}}),i("v-slider",{attrs:{step:1,max:512,min:1,label:"Tile Width","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.settings.tileWidth,callback:function(e){t.$set(t.settings,"tileWidth",e)},expression:"settings.tileWidth"}})]},proxy:!0}]),model:{value:t.settings.tileWidth,callback:function(e){t.$set(t.settings,"tileWidth",e)},expression:"settings.tileWidth"}}),i("v-slider",{attrs:{step:1,max:512,min:1,label:"Tile Height","hide-details":""},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number"},model:{value:t.settings.tileHeight,callback:function(e){t.$set(t.settings,"tileHeight",e)},expression:"settings.tileHeight"}})]},proxy:!0}]),model:{value:t.settings.tileHeight,callback:function(e){t.$set(t.settings,"tileHeight",e)},expression:"settings.tileHeight"}}),i("v-btn",{attrs:{name:"step-cost"},on:{click:function(e){return t.reset()}}},[t._v("Reset")]),i("v-btn",{attrs:{name:"apply"},on:{click:function(e){return t.apply()}}},[t._v("Apply")]),i("v-switch",{attrs:{label:"High Detail",color:"blue"},on:{"&click":function(e){return t.apply()}},model:{value:t.settings.detailedDisplay,callback:function(e){t.$set(t.settings,"detailedDisplay",e)},expression:"settings.detailedDisplay"}}),i("v-switch",{attrs:{label:"Use Rounded",color:"blue"},on:{"&click":function(e){return t.apply()}},model:{value:t.settings.useRounded,callback:function(e){t.$set(t.settings,"useRounded",e)},expression:"settings.useRounded"}})],1)},ft=[],vt=(i("d3b7"),function(t){return new Promise((function(e){return setTimeout(e,t)}))}),gt=vt;function mt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function bt(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(i),!0).forEach((function(e){Object(h["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):mt(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var yt={name:"GridMDPSettings",data:function(){return{settings:bt({},v.state.settings)}},methods:{apply:function(){var t=this;v.commit("setSettings",bt({},this.settings)),gt(0).then((function(){t.$emit("apply-settings")}))},reset:function(){this.settings=bt({},v.state.defaultSettings)}},mounted:function(){this.reset()}},wt=yt,xt=i("b73d"),kt=Object(b["a"])(wt,pt,ft,!1,null,null,null),St=kt.exports;C()(kt,{VBtn:A["a"],VSlider:V["a"],VSwitch:xt["a"],VTextField:P["a"]});var Ot={name:"Baseline",components:{GridMDPSettings:St,GridMDP:ut},props:{source:String},data:function(){return{drawer:null}},methods:{applySettings:function(){this.$refs["gmdp"].applySettings()}},created:function(){this.$vuetify.theme.dark=!0}},Mt=Ot,_t=i("40dc"),Rt=i("5bc1"),Ct=i("a75b"),jt=i("553a"),Vt=i("f774"),Pt=i("2a7f"),Tt=Object(b["a"])(Mt,l,r,!1,null,null,null),$t=Tt.exports;C()(Tt,{VAppBar:_t["a"],VAppBarNavIcon:Rt["a"],VContent:Ct["a"],VFooter:jt["a"],VNavigationDrawer:Vt["a"],VToolbarTitle:Pt["a"]});var It={name:"App",components:{Baseline:$t}},Dt=It,At=(i("034f"),i("7496")),Et=Object(b["a"])(Dt,n,a,!1,null,null,null),qt=Et.exports;C()(Et,{VApp:At["a"]});var Qt=i("f309");s["a"].use(Qt["a"]);var zt=new Qt["a"]({});s["a"].config.productionTip=!1,new s["a"]({vuetify:zt,render:function(t){return t(qt)}}).$mount("#app")},"600d":function(t,e,i){},"7f66":function(t,e,i){},"86b8":function(t,e,i){"use strict";var s=i("600d"),n=i.n(s);n.a},"8a23":function(t,e,i){},9082:function(t,e,i){},b017:function(t,e,i){i("cb29"),CanvasRenderingContext2D.prototype.fillPoly=function(t,e,i){var s=t.length;if(s){this.beginPath(),this.moveTo(t[0][0],t[0][1]);while(s--)this.lineTo(t[s][0],t[s][1]);this.closePath(),i&&(this.strokeStyle=i,this.stroke()),e&&(this.fillStyle=e,this.fill())}},CanvasRenderingContext2D.prototype.drawText=function(t,e,i,s){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:12,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"Arial",l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"center";this.fillStyle=s,this.textAlign=l,this.font=n+"px "+a,this.fillText(t,e,i+n/2)}},b1a7:function(t,e,i){"use strict";var s=i("54c5"),n=i.n(s);n.a}});
//# sourceMappingURL=app.df73d334.js.map